/*
 * Clearable Text Field - jQuery plugin version 0.1
 * Copyright (c) 2009 Tatsuya Ono
 *
 * http://github.com/ono/clearable_text_field
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(d){d.fn.clearableTextField=function(){if(d(this).length>0){d(this).bind("keyup change paste cut",e);c(d(this))}};function e(){c(d(this))}function c(f){if(f.val().length>0){b(f)}else{a(f)}}function b(i){if(i.parent().children("div.text_clear_button").length==0){i.parent().append("<div class='text_clear_button'></div>");var f=i.parent().children("div.text_clear_button");var g=f.outerHeight(),k=f.outerHeight();i.css("padding-right",parseInt(i.css("padding-right"))+g+1);i.width(i.width()-g-1);var m=i.position();var j={};j.left=m.left+i.outerWidth(false)-(g+2);var l=Math.round((i.outerHeight(true)-k)/2);j.top=m.top+l;f.css(j);f.click(function(){i.val("");c(i)})}}function a(h){var f=h.parent().children("div.text_clear_button");if(f.length>0){f.remove();var g=f.width();h.css("padding-right",parseInt(h.css("padding-right"))-g-1);h.width(h.width()+g+1)}}})(jQuery);